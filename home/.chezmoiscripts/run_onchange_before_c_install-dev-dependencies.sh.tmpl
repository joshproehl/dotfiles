#!/bin/sh

##########
# Fedora #
{{ if eq .chezmoi.osRelease.id "fedora" }}
# On Fedora we use Podman, so we want this to ensure scripts calling docker work
sudo dnf install -y podman-docker

# Dependencies for Phoenix/Elixir
sudo dnf install -y inotify-tools

# Dependencies for https://github.com/asdf-vm/asdf-erlang
sudo dnf groupinstall -y 'Development Tools' 'C Development Tools and Libraries'
sudo dnf install -y autoconf ncurses-devel wxGTK3-devel wxBase3 openssl-devel


##########
# Debian #
{{ else if eq .chezmoi.osRelease.id "debian" }}
# Dependencies for Phoenix/Elixir
sudo apt-get -y install inotify-tools

# Dependencies for https://github.com/asdf-vm/asdf-erlang
sudo apt-get -y install build-essential autoconf libncurses5-dev libwxgtk3.0-dev libgl1-mesa-dev libglu1-mesa-dev libpng-dev libssh-dev


#############
# Archlinux #
{{ else if eq .chezmoi.osRelease.id "arch" }}
# Dependencies for Phoenix/Elixir
sudo pacman -S --needed inotify-tools

# Dependencies for https://github.com/asdf-vm/asdf-erlang
sudo pacman -S --needed base-devel
sudo pacman -S --needed ncurses glu mesa wxwidgets-gtk3 webkit2gtk libpng libssh


{{ end }}
